---
from: 14 сентября
until: 21 сентября
---
{:start="4"}
4. Выяснить, вызывается ли функция, прикреплённая методом `atexit()` при завершении программы через `return 0` в `main()`. Проверить, что происходит при прикреплении более одной функции через `atexit()`.
5. Изучить работу функций `sync` и `fsync` из `<unistd.h>`.
6. Выяснить, возможен ли поиск (seeking) по файлу открытому в режиме `"a"`.
7. Выяснить, что происходит при попытке записи и чтении в файл, открытом в режиме `"a"` и `"a+"`. Что изменится, если перед чтением/записью файл был 'отмотан' при помощи `fseek()`/`lseek()`.
8. Выяснить, возможна ли установка прав на файл противоречивым образом. Например, `--- r-- --x`. Если такие права возможны, то выяснить, может ли владелец прочесть файл, как член группы и может ли он запускать файл, как третье лицо. Нужно попробовать устанавливать права как через функцию `open()` из `<fcntl.h>`, так и через команду `chmod`.
9. [***Программа***](../programs).
    - Программа должна открыть файл на чтение и для каждой строки в этом файле найти последние 5 символов в строке (не считая `'\n'`) и длину строки (не считая `'\n'`).
    - Строкой считается последовательность из нуля или более символов, заканчивающаяся символом `'\n'` или концом файла.
    - Если строка короче 5 символов, следует вывести столько символов, сколько есть.
    - То, как программа принимает имя файла и какой у неё конкретно формат вывода оставляется на усмотрение студента.
    - Имя и размер файла считаются неизвестными на момент компиляции.
    - Стоит ожидать, что файл может быть большим, гигабайты и более.
